<!DOCTYPE html>
<html>
<head>
		<title>Create New Account</title>
	
</head>
<body >
	<h1>Create New Account</h1>
    <form>
        <label>Password:</label>
        <input type="password" name="Clave" id="Clave"/><br>
        <label>Username:</label>
        <input type="text" name="Usuario" id="Usuario"/><br>
        <label>Name:</label>
        <input type="text" name="Nombre" id="Nombre"/><br>
        <label>Email:</label>
        <input type="email" name="Email" id="Email"/>
        <button type="button" id="button3">Create Account</button>
        <script type="text/javascript">
        
        function $(id){
    		return document.getElementById(id);
    	}

    function createAccount(){
    	var data = {
    			Clave: $('Clave').value,
    			Usuario: $('Usuario').value,
    			Nombre: $('Nombre').value,
    			Email: 	$('Email').value,
        };          
    	console.log(data)
    	let config = {
    		method: 'POST',
    		body: JSON.stringify(data),
    		headers : { 
    	        'Content-Type': 'application/json',
    	        'Accept': 'application/json'
    	       },
            };
    	fetch("./Registro", config)
    		.then(function(response){
    			return response.json();
    		})
    		.then(function(data){
    			console.log(data);
    		});
    	}

    /*function validateEmail(email) {
    	var re = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
    	return re.test(email);
    }*/

    /*function validate() {
    	var result = document.getElementById("result");
    	var email = document.getElementById("email").value;
    	if (validateEmail(email)) {
    		result.innerHTML = "Valid Email.";
    		document.getElementById("button3").disabled = false;
    	} else {
    	    result.innerHTML = "Invalid Email.";
    	    document.getElementById("button3").disabled = true;
    	}
    	return false;
    }*/

    document.getElementById("button3").addEventListener("click", createAccount);

    function SwitchURL(){
    	history.replaceState({},"Register", "Re.k8j2vdk.g.jkzvz84kl1.is.af7223.t.kjkkabofajs.er.Reggakbster.html");
    	document.getElementById("button3").disabled = true;
    }

    function forceLower(strInput) {
    	strInput.value=strInput.value.toLowerCase();
    }</script>
    </form>
</body>
</html>